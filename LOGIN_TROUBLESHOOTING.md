# ğŸ” ç™»å½•é—®é¢˜æ’æŸ¥æŒ‡å—

## é—®é¢˜ï¼šç™»å½•æŒ‰é’®ä¸æ˜¾ç¤ºæˆ–æ— æ³•åŠ è½½

### å¿«é€Ÿæ£€æŸ¥æ¸…å•

1. **æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å° (F12)**
   - æ‰“å¼€å¼€å‘è€…å·¥å…·
   - æŸ¥çœ‹ Console æ ‡ç­¾
   - æŸ¥æ‰¾ä»¥ä¸‹ä¿¡æ¯ï¼š
     - âœ… `Supabase URL å·²é…ç½®` - è¡¨ç¤ºç¯å¢ƒå˜é‡æ­£ç¡®
     - âœ… `Supabase Anon Key å·²é…ç½®` - è¡¨ç¤ºå¯†é’¥æ­£ç¡®
     - âŒ `NEXT_PUBLIC_SUPABASE_URL æœªé…ç½®` - éœ€è¦é…ç½®ç¯å¢ƒå˜é‡
     - âš ï¸ `è®¤è¯çŠ¶æ€åŠ è½½è¶…æ—¶` - å¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜

2. **æ£€æŸ¥ç¯å¢ƒå˜é‡**
   ```bash
   # åœ¨é¡¹ç›®æ ¹ç›®å½•æ£€æŸ¥ .env.local æ–‡ä»¶
   cat .env.local
   ```
   
   ç¡®ä¿åŒ…å«ï¼š
   ```env
   NEXT_PUBLIC_SUPABASE_URL=https://ä½ çš„é¡¹ç›®.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=ä½ çš„åŒ¿åå¯†é’¥
   ```

3. **é‡å¯å¼€å‘æœåŠ¡å™¨**
   ```bash
   # åœæ­¢æœåŠ¡å™¨ (Ctrl+C)
   # é‡æ–°å¯åŠ¨
   npm run dev
   ```

4. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**
   - æ‰“å¼€å¼€å‘è€…å·¥å…· (F12)
   - Application > Storage > Clear site data
   - æˆ–è€…ä½¿ç”¨æ— ç—•æ¨¡å¼æµ‹è¯•

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### é—®é¢˜ 1: ç™»å½•æŒ‰é’®ä¸€ç›´æ˜¾ç¤ºåŠ è½½ä¸­

**åŸå› **: è®¤è¯çŠ¶æ€åŠ è½½è¶…æ—¶æˆ–å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- æ£€æŸ¥ Supabase é¡¹ç›®æ˜¯å¦æ­£å¸¸è¿è¡Œ
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯
- ç³»ç»Ÿä¼šåœ¨ 3 ç§’åè‡ªåŠ¨æ˜¾ç¤ºç™»å½•æŒ‰é’®ï¼ˆè¶…æ—¶ä¿æŠ¤ï¼‰

#### é—®é¢˜ 2: ç‚¹å‡»ç™»å½•æŒ‰é’®æ²¡æœ‰ååº”

**åŸå› **: `AuthModal` ç»„ä»¶æœªæ­£ç¡®æ¸²æŸ“

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰ JavaScript é”™è¯¯
- ç¡®è®¤ `showAuthModal` çŠ¶æ€æ˜¯å¦æ­£ç¡®æ›´æ–°
- æ£€æŸ¥ `AuthModal` ç»„ä»¶æ˜¯å¦æ­£ç¡®å¯¼å…¥

#### é—®é¢˜ 3: ç™»å½•åä»ç„¶æ˜¾ç¤º"æœªç™»å½•"

**åŸå› **: Session æœªæ­£ç¡®ä¿å­˜æˆ–ä¼ é€’

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥æµè§ˆå™¨ cookies ä¸­æ˜¯å¦æœ‰ Supabase session
- æ¸…é™¤ cookies åé‡æ–°ç™»å½•
- æ£€æŸ¥ Supabase Dashboard ä¸­çš„è®¤è¯è®¾ç½®

#### é—®é¢˜ 4: ç¯å¢ƒå˜é‡æœªåŠ è½½

**åŸå› **: `.env.local` æ–‡ä»¶æ ¼å¼é”™è¯¯æˆ–ä½ç½®ä¸å¯¹

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®ä¿ `.env.local` åœ¨é¡¹ç›®æ ¹ç›®å½•
- ç¡®ä¿æ²¡æœ‰å¤šä½™çš„ç©ºæ ¼æˆ–å¼•å·
- é‡å¯å¼€å‘æœåŠ¡å™¨

### è°ƒè¯•æ­¥éª¤

1. **æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°**
   ```javascript
   // åœ¨æ§åˆ¶å°ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ Supabase å®¢æˆ·ç«¯
   console.log(window.location.href)
   ```

2. **æ£€æŸ¥ Supabase è¿æ¥**
   - æ‰“å¼€ Network æ ‡ç­¾
   - å°è¯•ç™»å½•
   - æŸ¥çœ‹æ˜¯å¦æœ‰å¤±è´¥çš„è¯·æ±‚

3. **æ£€æŸ¥è®¤è¯çŠ¶æ€**
   ```javascript
   // åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ï¼ˆéœ€è¦å…ˆå¯¼å…¥ supabaseï¼‰
   // æˆ–è€…åœ¨ç»„ä»¶ä¸­æ·»åŠ è°ƒè¯•ä»£ç 
   console.log('Session:', session)
   console.log('Status:', status)
   ```

### æµ‹è¯•æ­¥éª¤

1. **æ¸…é™¤æ‰€æœ‰æ•°æ®**
   - æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å’Œ cookies
   - é‡å¯å¼€å‘æœåŠ¡å™¨

2. **æ£€æŸ¥ç¯å¢ƒå˜é‡**
   - ç¡®è®¤ `.env.local` æ–‡ä»¶å­˜åœ¨ä¸”æ ¼å¼æ­£ç¡®
   - ç¡®è®¤ç¯å¢ƒå˜é‡å€¼æ­£ç¡®

3. **æµ‹è¯•ç™»å½•æµç¨‹**
   - ç‚¹å‡»"ç™»å½•"æŒ‰é’®
   - åº”è¯¥çœ‹åˆ°ç™»å½•æ¨¡æ€æ¡†
   - è¾“å…¥é‚®ç®±å’Œå¯†ç 
   - ç‚¹å‡»"ç™»å½•"æˆ–"æ³¨å†Œ"

4. **éªŒè¯ç™»å½•çŠ¶æ€**
   - ç™»å½•ååº”è¯¥çœ‹åˆ°ç”¨æˆ·èœå•
   - å³ä¸Šè§’æ˜¾ç¤ºç”¨æˆ·åå’Œå¤´åƒ

### å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨

1. **æ£€æŸ¥ Supabase Dashboard**
   - ç™»å½• [Supabase Dashboard](https://supabase.com/dashboard)
   - æ£€æŸ¥é¡¹ç›®çŠ¶æ€
   - æ£€æŸ¥ Authentication > Settings

2. **æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—**
   - æŸ¥çœ‹ç»ˆç«¯ä¸­çš„ Next.js æœåŠ¡å™¨è¾“å‡º
   - æŸ¥æ‰¾é”™è¯¯ä¿¡æ¯

3. **æ£€æŸ¥ç½‘ç»œè¯·æ±‚**
   - æ‰“å¼€æµè§ˆå™¨ Network æ ‡ç­¾
   - æŸ¥çœ‹ API è¯·æ±‚çš„çŠ¶æ€ç 
   - æŸ¥çœ‹è¯·æ±‚å’Œå“åº”å†…å®¹

### ç›¸å…³æ–‡ä»¶

- `lib/supabase.ts` - Supabase å®¢æˆ·ç«¯é…ç½®
- `hooks/useSupabaseAuth.ts` - è®¤è¯ Hooks
- `components/UserMenu.tsx` - ç”¨æˆ·èœå•ç»„ä»¶
- `components/AuthModal.tsx` - ç™»å½•/æ³¨å†Œæ¨¡æ€æ¡†
- `app/page.tsx` - ä¸»é¡µé¢

---

**æ›´æ–°æ—¶é—´**: 2025-11-10
**ç‰ˆæœ¬**: v2.1.1

